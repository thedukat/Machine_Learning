(9+9-2)
sp<-sqrt((9*0.60+9*0.68)/(9+9-2))
3-5+c(-1,1)*qt(.95,16)*sp*(1/9+1/9)^.5
n1 <- n2 <- 100
x1 <- 4  ##treated
x2 <- 6  ##placebo
s1 <- 0.5  ##treated
s2 <- 2  ##placebo
sp = sqrt( ((n1-1) * s1) + ((n2-1) * s2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.95, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
n1 <- n2 <- 100
x1 <- 4  ##treated
x2 <- 6  ##placebo
s1 <- 0.5  ##treated
s2 <- 2  ##placebo
sp = sqrt( ((n1-1) * s1^2) + ((n2-1) * s2^2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.95, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
n1 <- n2 <- 9
x1 <- 1  ##treated
x2 <- -3  ##placebo
s1 <- 1.8  ##treated
s2 <- 1.5  ##placebo
sp = sqrt( ((n1-1) * s1^2) + ((n2-1) * s2^2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.95, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
n1 <- n2 <- 9
x1 <- 1  ##treated
x2 <- -3  ##placebo
s1 <- 1.8  ##treated
s2 <- 1.5  ##placebo
sp = sqrt( ((n1-1) * s1^2) + ((n2-1) * s2^2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.9, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
n1 <- n2 <- 9
x1 <- -3  ##treated
x2 <- 1  ##placebo
s1 <- 1.5  ##treated
s2 <- 1.8  ##placebo
sp = sqrt( ((n1-1) * s1^2) + ((n2-1) * s2^2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.9, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
n1 <- n2 <- 9
x1 <- 1  ##treated
x2 <- -3  ##placebo
s1 <- 1.8  ##treated
s2 <- 1.5  ##placebo
sp = sqrt( ((n1-1) * s1^2) + ((n2-1) * s2^2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.9, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
n1 <- n2 <- 9
x1 <- 1  ##treated
x2 <- -3  ##placebo
s1 <- 1.8  ##treated
s2 <- 1.5  ##placebo
sp = sqrt( ((n1-1) * s1) + ((n2-1) * s2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.9, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
n1 <- n2 <- 9
x1 <- 1  ##treated
x2 <- -3  ##placebo
s1 <- 1.8  ##treated
s2 <- 1.5  ##placebo
sp = sqrt( ((n1-1) * s1) + ((n2-1) * s2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.9, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
mn = 1100
s = 30
n = 9
mn + c(-1, 1) * qt(.95, n-1) * s / sqrt(n)
a <- 1100
s <- 30
n <- 9
error <- qt(0.975,df=n-1)*s/sqrt(n)
left <- a-error
right <- a+error
left
right
round(left)
round(right)
n1 <- n2 <- 10
x1 <- 5 ##treated
x2 <- 6  ##placebo
s1 <- 0.68  ##treated
s2 <- 0.60  ##placebo
sp = sqrt( ((n1-1) * s1) + ((n2-1) * s2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.9, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
n1 <- n2 <- 10
x1 <- 5 ##treated
x2 <- 6  ##placebo
s1 <- 0.68  ##treated
s2 <- 0.60  ##placebo
sp = sqrt( ((n1-1) * s1) + ((n2-1) * s2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.95, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
n1 <- n2 <- 10
x1 <- 6 ##treated
x2 <- 5  ##placebo
s1 <- 0.60  ##treated
s2 <- 0.68  ##placebo
sp = sqrt( ((n1-1) * s1) + ((n2-1) * s2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.95, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
n1 <- n2 <- 10
x1 <- 5 ##treated
x2 <- 3  ##placebo
s1 <- 0.68  ##treated
s2 <- 0.60  ##placebo
sp = sqrt( ((n1-1) * s1) + ((n2-1) * s2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.95, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
n1 <- n2 <- 10
x1 <- 5 ##treated
x2 <- 3  ##placebo
s1 <- 0.68  ##treated
s2 <- 0.60  ##placebo
sp = sqrt( ((n1-1) * s1^2) + ((n2-1) * s2^2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.95, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
n1 <- n2 <- 10
x1 <- 5 ##treated
x2 <- 3  ##placebo
s1 <- 0.68  ##treated
s2 <- 0.60  ##placebo
sp = sqrt( ((n1-1) * s1) + ((n2-1) * s2) / (n1 + n2 - 2))
x2 - x1 + c(-1,1) * qt(.95, (n1 + n2 -2)) * sp * (1 / n1 + 1 / n2)^.5
d1 = c(140, 138, 150, 148, 135)
d2 = c(132, 135, 151, 146, 130)
t.test(d1, d2)
d1 = c(140, 138, 150, 148, 135)
d2 = c(132, 135, 151, 146, 130)
d3 = d2 - d1
t.test(d3)
mn = 1100
s = 30
z = c(qnorm(.05), qnorm(.95))
n = 9
mu0 = mn - z * s / sqrt(nrow(n))
mn = 1100
s = 30
z = c(qnorm(.05), qnorm(.95))
n = 9
mu0 = mn - z * s / sqrt(n)
mu0
round(mu0)
# Treated group
trt.n <- 9
trt.mean <- -3
trt.sd <- 1.5
# Placebo group
plc.n <- 9
plc.mean <- 1
plc.sd <- 1.8
# Calculate t-value
(df <- trt.n + plc.n - 2)
sp <- ((trt.n - 1) * trt.sd^2 + (plc.n - 1) * plc.sd^2) / df
sp
se <- sqrt((1.5^2*8+1.8^2*8)/16 * (1/9 +1/9))
z <- (-3+1) / se
pvalue <- pnorm(z) * 2
pvalue
setwd("~/G_WD/R/machine-learning-ex1")
read.csv("ex1data.txt", header = TRUE)
read.csv("ex1data1.txt")
data1 = read.csv("ex1data1.txt")
str(data1)
colnames(data1) = c('X', 'y')
data1
rm(dat1)
rm(data1)
dat1 = read.csv('ex1data1.txt')
colnames(data1) = c('X', 'y')
dat1 = read.csv('ex1data1.txt')
colnames(dat1) = c('X', 'y')
dat1
str(dat1)
X = dat1$X
y = dat1$y
m = length(X)
m
dat1 = read.csv('ex1data1.txt')
colnames(dat1) = c('x_1', 'y')
dat1 = cbind(x_0 = 1, dat1)
dat1
X = dat1[,1:2]
y = dat1$y
m = length(X)
iterations = 1500
alpha = 0.01
X
theta = vector(0, length = 2)
theta = vector(mode = "numeric",length = 2)
theta = vector(mode = "numeric",length = 2); theta = 0
theta
theta = vector(mode = "numeric",length = 2)
theta
str(theta)
h = X * theta
error = h - y
error_sqr = error^2
J = 1 / (2 * m) * sum(error_sqr)
J
error
h
error
error_sqr
sum(error_sqr)
?append
J = function(X, y, theta) {
h = X * theta
error = h - y
error_sqr = error^2
J = 1 / (2 * m) * sum(error_sqr)
}
J
J(X, y, theta)
J
J = function(X, y, theta) {
h = X * theta
error = h - y
error_sqr = error^2
1 / (2 * m) * sum(error_sqr)
}
J(X, y, theta)
J_hist = vector()
for( i = 1:iterations){
h = X * theta
errors = h - y
theta_change = (alpha / m) * t(X) * errors
theta = theta - theta_change
J_hist = append(J_hist, J(X, y, theta))
}
J_hist = vector()
for( i in 1:iterations){
h = X * theta
errors = h - y
theta_change = (alpha / m) * t(X) * errors
theta = theta - theta_change
J_hist = append(J_hist, J(X, y, theta))
}
J_hist
plot(J_hist, type = "l")
theta
